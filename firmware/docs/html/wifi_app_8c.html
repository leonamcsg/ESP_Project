<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebServer: FT_gateway/main/wifiApp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebServer
   </div>
   <div id="projectbrief">ESP_Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('wifi_app_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">wifiApp.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;esp_event.h&quot;</code><br />
<code>#include &quot;esp_event_base.h&quot;</code><br />
<code>#include &quot;esp_interface.h&quot;</code><br />
<code>#include &quot;esp_netif.h&quot;</code><br />
<code>#include &quot;esp_netif_types.h&quot;</code><br />
<code>#include &quot;esp_wifi_default.h&quot;</code><br />
<code>#include &quot;esp_wifi_types_generic.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/event_groups.h&quot;</code><br />
<code>#include &quot;freertos/idf_additions.h&quot;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
<code>#include &quot;freertos/queue.h&quot;</code><br />
<code>#include &quot;freertos/portmacro.h&quot;</code><br />
<code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;esp_wifi.h&quot;</code><br />
<code>#include &quot;lwip/netdb.h&quot;</code><br />
<code>#include &quot;lwip/sockets.h&quot;</code><br />
<code>#include &quot;<a class="el" href="wifi_app_8h_source.html">wifiApp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http_server_8h_source.html">httpServer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="led_r_g_b_8h_source.html">ledRGB.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tasks__common_8h_source.html">tasks_common.h</a>&quot;</code><br />
</div>
<p><a href="wifi_app_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2ce4c5d575ee6f5b4ae3f3bafd40aa85" id="r_a2ce4c5d575ee6f5b4ae3f3bafd40aa85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ce4c5d575ee6f5b4ae3f3bafd40aa85">X</a>(ID,  ENUM)</td></tr>
<tr class="separator:a2ce4c5d575ee6f5b4ae3f3bafd40aa85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce4c5d575ee6f5b4ae3f3bafd40aa85" id="r_a2ce4c5d575ee6f5b4ae3f3bafd40aa85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ce4c5d575ee6f5b4ae3f3bafd40aa85">X</a>(ID,  ENUM)</td></tr>
<tr class="separator:a2ce4c5d575ee6f5b4ae3f3bafd40aa85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3b4c37aeab1ee5cdddccf5d9f38b31a0" id="r_a3b4c37aeab1ee5cdddccf5d9f38b31a0"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b4c37aeab1ee5cdddccf5d9f38b31a0">WIFI_APP_START_HTTP_SERVER</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *st)</td></tr>
<tr class="memdesc:a3b4c37aeab1ee5cdddccf5d9f38b31a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_START_HTTP_SERVER] state.  <br /></td></tr>
<tr class="separator:a3b4c37aeab1ee5cdddccf5d9f38b31a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4810873dfe85f818903db47fcd6851c7" id="r_a4810873dfe85f818903db47fcd6851c7"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4810873dfe85f818903db47fcd6851c7">WIFI_APP_CONNECTING_FROM_HTTP_SERVER</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *st)</td></tr>
<tr class="memdesc:a4810873dfe85f818903db47fcd6851c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_CONNECTING_FROM_HTTP_SERVER] state.  <br /></td></tr>
<tr class="separator:a4810873dfe85f818903db47fcd6851c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9744addd5a5b98ef3087e536918db2ac" id="r_a9744addd5a5b98ef3087e536918db2ac"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9744addd5a5b98ef3087e536918db2ac">WIFI_APP_STA_CONNECTED_GOT_IP</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *st)</td></tr>
<tr class="memdesc:a9744addd5a5b98ef3087e536918db2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_STA_CONNECTED_GOT_IP] state.  <br /></td></tr>
<tr class="separator:a9744addd5a5b98ef3087e536918db2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae88eb533afad50c0d0bd3224ea159c7" id="r_aae88eb533afad50c0d0bd3224ea159c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae88eb533afad50c0d0bd3224ea159c7">wifiApp_stateMachine_handler</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *msg)</td></tr>
<tr class="memdesc:aae88eb533afad50c0d0bd3224ea159c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">WiFiApp State Machine Handler.  <br /></td></tr>
<tr class="separator:aae88eb533afad50c0d0bd3224ea159c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455779c6d61a7a4423c7956e2e88f8e3" id="r_a455779c6d61a7a4423c7956e2e88f8e3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a455779c6d61a7a4423c7956e2e88f8e3">wifiApp_event_handler</a> (void *arg_p, esp_event_base_t event_base, int32_t eventId, void *eventData_p)</td></tr>
<tr class="memdesc:a455779c6d61a7a4423c7956e2e88f8e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">WiFi application event handler.  <br /></td></tr>
<tr class="separator:a455779c6d61a7a4423c7956e2e88f8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4b7f1a067c21ab97122e7dc9965b59" id="r_aac4b7f1a067c21ab97122e7dc9965b59"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac4b7f1a067c21ab97122e7dc9965b59">wifiApp_eventHandler_init</a> (void)</td></tr>
<tr class="memdesc:aac4b7f1a067c21ab97122e7dc9965b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the WiFi application event handler for WiFi and IP events.  <br /></td></tr>
<tr class="separator:aac4b7f1a067c21ab97122e7dc9965b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08e92f8c0d6dc47077b401fe1e6a95a" id="r_ae08e92f8c0d6dc47077b401fe1e6a95a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae08e92f8c0d6dc47077b401fe1e6a95a">wifiApp_defaultWifi_init</a> (void)</td></tr>
<tr class="memdesc:ae08e92f8c0d6dc47077b401fe1e6a95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes TCP stack and default WiFi configuration.  <br /></td></tr>
<tr class="separator:ae08e92f8c0d6dc47077b401fe1e6a95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf8cd0cd99f7b572d441bfe18f6b374" id="r_afbf8cd0cd99f7b572d441bfe18f6b374"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbf8cd0cd99f7b572d441bfe18f6b374">wifiApp_softAP_config</a> (void)</td></tr>
<tr class="memdesc:afbf8cd0cd99f7b572d441bfe18f6b374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the WiFi access point settings and assigns the static IP to the SoftAP.  <br /></td></tr>
<tr class="separator:afbf8cd0cd99f7b572d441bfe18f6b374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e98a9c79fd5f111cc6124d5d4783f9" id="r_ad9e98a9c79fd5f111cc6124d5d4783f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9e98a9c79fd5f111cc6124d5d4783f9">wifiApp_sta_connect</a> (void)</td></tr>
<tr class="memdesc:ad9e98a9c79fd5f111cc6124d5d4783f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects the ESP32 to an external AP using the updated station configuration.  <br /></td></tr>
<tr class="separator:ad9e98a9c79fd5f111cc6124d5d4783f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf937ef7f53119b62f8891cf19c616e1" id="r_adf937ef7f53119b62f8891cf19c616e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf937ef7f53119b62f8891cf19c616e1">wifiApp_sta_disconnectedLogInfo</a> (void *eventData_p)</td></tr>
<tr class="memdesc:adf937ef7f53119b62f8891cf19c616e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to log at the serial monitor the reasons of why the station disconnected.  <br /></td></tr>
<tr class="separator:adf937ef7f53119b62f8891cf19c616e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695b8888994b3448dc4419fb2af4a8db" id="r_a695b8888994b3448dc4419fb2af4a8db"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a695b8888994b3448dc4419fb2af4a8db">wifiApp_setup</a> (void)</td></tr>
<tr class="memdesc:a695b8888994b3448dc4419fb2af4a8db"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that sets up the WiFi environment configurating WiFi &amp; Soft Access and initializing TCP/IP  <br /></td></tr>
<tr class="separator:a695b8888994b3448dc4419fb2af4a8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67982d55275fd53cb430659b79f838b7" id="r_a67982d55275fd53cb430659b79f838b7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67982d55275fd53cb430659b79f838b7">wifiApp_task</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a67982d55275fd53cb430659b79f838b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main task for the WiFi application where we initialize WiFi and and receive all queue messages which determine the flow of the application.  <br /></td></tr>
<tr class="separator:a67982d55275fd53cb430659b79f838b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc48c46c6844e0d0ebd67c226d3a631" id="r_a2cc48c46c6844e0d0ebd67c226d3a631"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cc48c46c6844e0d0ebd67c226d3a631">wifiApp_getStationSSID</a> (void)</td></tr>
<tr class="memdesc:a2cc48c46c6844e0d0ebd67c226d3a631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Address of the first char of SSID string.  <br /></td></tr>
<tr class="separator:a2cc48c46c6844e0d0ebd67c226d3a631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fbd46e2bb6daf19b7649c1dfa4fc35" id="r_a55fbd46e2bb6daf19b7649c1dfa4fc35"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55fbd46e2bb6daf19b7649c1dfa4fc35">wifiApp_getStationPassword</a> (void)</td></tr>
<tr class="memdesc:a55fbd46e2bb6daf19b7649c1dfa4fc35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Address of the first char of password string.  <br /></td></tr>
<tr class="separator:a55fbd46e2bb6daf19b7649c1dfa4fc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aeb8f515cf1a7ba5a49effcb451dfca" id="r_a1aeb8f515cf1a7ba5a49effcb451dfca"><td class="memItemLeft" align="right" valign="top">wifi_config_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1aeb8f515cf1a7ba5a49effcb451dfca">wifiApp_getWifiConfig</a> (void)</td></tr>
<tr class="memdesc:a1aeb8f515cf1a7ba5a49effcb451dfca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the WiFi configuration.  <br /></td></tr>
<tr class="separator:a1aeb8f515cf1a7ba5a49effcb451dfca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220cdea96a8b11daa93f966038a98bde" id="r_a220cdea96a8b11daa93f966038a98bde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a220cdea96a8b11daa93f966038a98bde">wifiApp_setCallback</a> (<a class="el" href="wifi_app_8h.html#a1e6520a64db9bed8110e12b1dcf22445">wifi_connected_event_callback_t</a> callbackFunction)</td></tr>
<tr class="memdesc:a220cdea96a8b11daa93f966038a98bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback function.  <br /></td></tr>
<tr class="separator:a220cdea96a8b11daa93f966038a98bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866d4622475ca928bffdd581fb961452" id="r_a866d4622475ca928bffdd581fb961452"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a866d4622475ca928bffdd581fb961452">WIFI_APP_USER_REQUESTED_STA_DISCONNECT</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *st)</td></tr>
<tr class="memdesc:a866d4622475ca928bffdd581fb961452"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_USER_REQUESTED_STA_DISCONNECT] state.  <br /></td></tr>
<tr class="separator:a866d4622475ca928bffdd581fb961452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377645a4b0d2aec63e305fd597475228" id="r_a377645a4b0d2aec63e305fd597475228"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a377645a4b0d2aec63e305fd597475228">WIFI_APP_STA_DISCONNECTED</a> (<a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *st)</td></tr>
<tr class="memdesc:a377645a4b0d2aec63e305fd597475228"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_STA_DISCONNECTED] state.  <br /></td></tr>
<tr class="separator:a377645a4b0d2aec63e305fd597475228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f60e7ea60e972d04c8464edcd12897" id="r_a86f60e7ea60e972d04c8464edcd12897"><td class="memItemLeft" align="right" valign="top">BaseType_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86f60e7ea60e972d04c8464edcd12897">wifiApp_sendMessage</a> (<a class="el" href="wifi_app_8h.html#a82c7f1880fc5f465e23daded2433ca42">sm_wifi_app_state_e</a> msgId)</td></tr>
<tr class="memdesc:a86f60e7ea60e972d04c8464edcd12897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the queue.  <br /></td></tr>
<tr class="separator:a86f60e7ea60e972d04c8464edcd12897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d6accac56d59a7f45d2afced1647c1" id="r_ae6d6accac56d59a7f45d2afced1647c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6d6accac56d59a7f45d2afced1647c1">wifiApp_start</a> (void)</td></tr>
<tr class="memdesc:ae6d6accac56d59a7f45d2afced1647c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the WiFi RTOS task.  <br /></td></tr>
<tr class="separator:ae6d6accac56d59a7f45d2afced1647c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1bcdde0bdfcf0a2da9335e0cfdc2c605" id="r_a1bcdde0bdfcf0a2da9335e0cfdc2c605"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a> [] = &quot;wifi_app&quot;</td></tr>
<tr class="separator:a1bcdde0bdfcf0a2da9335e0cfdc2c605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8818d4f6d5f30959e5f4ede3803f80d" id="r_ab8818d4f6d5f30959e5f4ede3803f80d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="wifi_app_8h.html#a1e6520a64db9bed8110e12b1dcf22445">wifi_connected_event_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8818d4f6d5f30959e5f4ede3803f80d">wifi_connected_event_cb</a> = NULL</td></tr>
<tr class="separator:ab8818d4f6d5f30959e5f4ede3803f80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba08139162c2b03e24fb06f069e87286" id="r_aba08139162c2b03e24fb06f069e87286"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba08139162c2b03e24fb06f069e87286">ssid</a> [<a class="el" href="project_config_8h.html#a1f9bd6468e40a152b046a130a6ef7d37">WIFI_SSID_LENGTH</a>]</td></tr>
<tr class="separator:aba08139162c2b03e24fb06f069e87286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e11a0d23804baaa77df2288ac0e4ee1" id="r_a4e11a0d23804baaa77df2288ac0e4ee1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e11a0d23804baaa77df2288ac0e4ee1">passwd</a> [<a class="el" href="project_config_8h.html#ac7c70f898113fc416cd50088eb8def4b">WIFI_PASSWORD_LENGTH</a>]</td></tr>
<tr class="separator:a4e11a0d23804baaa77df2288ac0e4ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da8d372aefeaac24cabd1e70b1c27b2" id="r_a7da8d372aefeaac24cabd1e70b1c27b2"><td class="memItemLeft" align="right" valign="top">wifi_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7da8d372aefeaac24cabd1e70b1c27b2">wifi_config_v</a></td></tr>
<tr class="separator:a7da8d372aefeaac24cabd1e70b1c27b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e2fd114b2686e21f69bc56a8e5953e" id="r_ae3e2fd114b2686e21f69bc56a8e5953e"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a></td></tr>
<tr class="separator:ae3e2fd114b2686e21f69bc56a8e5953e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d201c9b3c512f5569c685bd04488cbe" id="r_a9d201c9b3c512f5569c685bd04488cbe"><td class="memItemLeft" align="right" valign="top">esp_netif_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d201c9b3c512f5569c685bd04488cbe">esp_netif_sta</a> = NULL</td></tr>
<tr class="separator:a9d201c9b3c512f5569c685bd04488cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d04dd561f9f32dd175245abb38a868a" id="r_a9d04dd561f9f32dd175245abb38a868a"><td class="memItemLeft" align="right" valign="top">esp_netif_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a> = NULL</td></tr>
<tr class="separator:a9d04dd561f9f32dd175245abb38a868a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b8ba04a3790582484f78c39276a058" id="r_a87b8ba04a3790582484f78c39276a058"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87b8ba04a3790582484f78c39276a058">g_qtd_states</a></td></tr>
<tr class="separator:a87b8ba04a3790582484f78c39276a058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcce18536c6d6f0c856f48e057ef38a1" id="r_adcce18536c6d6f0c856f48e057ef38a1"><td class="memItemLeft" align="right" valign="top">static QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcce18536c6d6f0c856f48e057ef38a1">wifi_app_queue_handle_t</a></td></tr>
<tr class="separator:adcce18536c6d6f0c856f48e057ef38a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da0d01f3d2e8f4a303ced29391e8eeb" id="r_a4da0d01f3d2e8f4a303ced29391e8eeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="wifi_app_8h.html#af91042ce2533b9ab174a0e0fc8934055">sm_wifi_table_fn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4da0d01f3d2e8f4a303ced29391e8eeb">sm_wifi_state_table</a> []</td></tr>
<tr class="separator:a4da0d01f3d2e8f4a303ced29391e8eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>16 de nov. de 2024 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Luiz Carlos </dd></dl>

<p class="definition">Definition in file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2ce4c5d575ee6f5b4ae3f3bafd40aa85" name="a2ce4c5d575ee6f5b4ae3f3bafd40aa85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce4c5d575ee6f5b4ae3f3bafd40aa85">&#9670;&#160;</a></span>X <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ENUM</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ <a class="code hl_define" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a>(ENUM) },</div>
<div class="ttc" id="awifi_app_8h_html_a85ab7e64386e2448f8e326fbfcae836d"><div class="ttname"><a href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a></div><div class="ttdeci">#define WIFI_STATE_FUNC_NAME(state)</div><div class="ttdoc">Macro to define the function name of each state.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8h_source.html#l00035">wifiApp.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ce4c5d575ee6f5b4ae3f3bafd40aa85" name="a2ce4c5d575ee6f5b4ae3f3bafd40aa85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce4c5d575ee6f5b4ae3f3bafd40aa85">&#9670;&#160;</a></span>X <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ENUM</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_variable" href="#a87b8ba04a3790582484f78c39276a058">g_qtd_states</a>++;</div>
<div class="ttc" id="awifi_app_8c_html_a87b8ba04a3790582484f78c39276a058"><div class="ttname"><a href="#a87b8ba04a3790582484f78c39276a058">g_qtd_states</a></div><div class="ttdeci">static uint8_t g_qtd_states</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00072">wifiApp.c:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4810873dfe85f818903db47fcd6851c7" name="a4810873dfe85f818903db47fcd6851c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4810873dfe85f818903db47fcd6851c7">&#9670;&#160;</a></span>WIFI_APP_CONNECTING_FROM_HTTP_SERVER()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a> WIFI_APP_CONNECTING_FROM_HTTP_SERVER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>st</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_CONNECTING_FROM_HTTP_SERVER] state. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00181">181</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  182</span>{</div>
<div class="line"><span class="lineno">  183</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a>[<a class="code hl_function" href="#a4810873dfe85f818903db47fcd6851c7">WIFI_APP_CONNECTING_FROM_HTTP_SERVER</a>]);</div>
<div class="line"><span class="lineno">  184</span>    </div>
<div class="line"><span class="lineno">  185</span>    <span class="comment">// Attempt a connection</span></div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_function" href="#ad9e98a9c79fd5f111cc6124d5d4783f9">wifiApp_sta_connect</a>();</div>
<div class="line"><span class="lineno">  187</span>    </div>
<div class="line"><span class="lineno">  188</span>    <span class="comment">// Set current number of retries to zero</span></div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_variable" href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a> = 0;</div>
<div class="line"><span class="lineno">  190</span>    </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">// Let the HTTP server know about the connection attempt</span></div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_function" href="http_server_8c.html#a297a5597242d0efb3f49cb249cddfb7f">httpServer_monitor_sendMessage</a>(HTTP_WIFI_CONNECT_INIT);</div>
<div class="line"><span class="lineno">  193</span>}</div>
<div class="ttc" id="adate_time_n_t_p_8c_html_a1bcdde0bdfcf0a2da9335e0cfdc2c605"><div class="ttname"><a href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a></div><div class="ttdeci">static const char TAG[]</div><div class="ttdoc">Tag used for ESP serial console messages.</div><div class="ttdef"><b>Definition</b> <a href="date_time_n_t_p_8c_source.html#l00046">dateTimeNTP.c:46</a></div></div>
<div class="ttc" id="ahttp_server_8c_html_a297a5597242d0efb3f49cb249cddfb7f"><div class="ttname"><a href="http_server_8c.html#a297a5597242d0efb3f49cb249cddfb7f">httpServer_monitor_sendMessage</a></div><div class="ttdeci">BaseType_t httpServer_monitor_sendMessage(http_server_state_e msgId)</div><div class="ttdoc">Sends a message to the queue.</div><div class="ttdef"><b>Definition</b> <a href="http_server_8c_source.html#l00188">httpServer.c:188</a></div></div>
<div class="ttc" id="awifi_app_8c_html_a4810873dfe85f818903db47fcd6851c7"><div class="ttname"><a href="#a4810873dfe85f818903db47fcd6851c7">WIFI_APP_CONNECTING_FROM_HTTP_SERVER</a></div><div class="ttdeci">static void WIFI_STATE_FUNC_NAME WIFI_APP_CONNECTING_FROM_HTTP_SERVER(wifi_app_queue_message_t *st)</div><div class="ttdoc">State Machine Function Definition according to sm_wifi_app_function function that defines the behavio...</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00181">wifiApp.c:181</a></div></div>
<div class="ttc" id="awifi_app_8c_html_ad9e98a9c79fd5f111cc6124d5d4783f9"><div class="ttname"><a href="#ad9e98a9c79fd5f111cc6124d5d4783f9">wifiApp_sta_connect</a></div><div class="ttdeci">static void wifiApp_sta_connect(void)</div><div class="ttdoc">Connects the ESP32 to an external AP using the updated station configuration.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00524">wifiApp.c:524</a></div></div>
<div class="ttc" id="awifi_app_8c_html_ae3e2fd114b2686e21f69bc56a8e5953e"><div class="ttname"><a href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a></div><div class="ttdeci">static uint8_t g_retry_number</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00065">wifiApp.c:65</a></div></div>
<div class="ttc" id="awifi_app_8h_html_a9919d69d8105d7532c1bbf73436d3439"><div class="ttname"><a href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a></div><div class="ttdeci">static const char * sm_wifi_app_state_names[]</div><div class="ttdoc">Messages for each WiFi application task State.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8h_source.html#l00076">wifiApp.h:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9744addd5a5b98ef3087e536918db2ac" name="a9744addd5a5b98ef3087e536918db2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9744addd5a5b98ef3087e536918db2ac">&#9670;&#160;</a></span>WIFI_APP_STA_CONNECTED_GOT_IP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a> WIFI_APP_STA_CONNECTED_GOT_IP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>st</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_STA_CONNECTED_GOT_IP] state. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00201">201</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  202</span>{</div>
<div class="line"><span class="lineno">  203</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a>[<a class="code hl_function" href="#a9744addd5a5b98ef3087e536918db2ac">WIFI_APP_STA_CONNECTED_GOT_IP</a>]);</div>
<div class="line"><span class="lineno">  204</span>    </div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a223fdeb2687ab18d6b880eb547a17178">ledRGB_wifi_connected</a>();</div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// displayOled_printHeaderNBody(&quot;CONNECTED!&quot;, &quot;&quot;);</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="http_server_8c.html#a297a5597242d0efb3f49cb249cddfb7f">httpServer_monitor_sendMessage</a>(HTTP_WIFI_CONNECT_SUCCESS);</div>
<div class="line"><span class="lineno">  208</span>    </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="#ab8818d4f6d5f30959e5f4ede3803f80d">wifi_connected_event_cb</a> != NULL)</div>
<div class="line"><span class="lineno">  210</span>    {</div>
<div class="line"><span class="lineno">  211</span>        <a class="code hl_variable" href="#ab8818d4f6d5f30959e5f4ede3803f80d">wifi_connected_event_cb</a>();</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span>}</div>
<div class="ttc" id="aled_r_g_b_8c_html_a223fdeb2687ab18d6b880eb547a17178"><div class="ttname"><a href="led_r_g_b_8c.html#a223fdeb2687ab18d6b880eb547a17178">ledRGB_wifi_connected</a></div><div class="ttdeci">void ledRGB_wifi_connected(void)</div><div class="ttdef"><b>Definition</b> <a href="led_r_g_b_8c_source.html#l00156">ledRGB.c:156</a></div></div>
<div class="ttc" id="awifi_app_8c_html_a9744addd5a5b98ef3087e536918db2ac"><div class="ttname"><a href="#a9744addd5a5b98ef3087e536918db2ac">WIFI_APP_STA_CONNECTED_GOT_IP</a></div><div class="ttdeci">static void WIFI_STATE_FUNC_NAME WIFI_APP_STA_CONNECTED_GOT_IP(wifi_app_queue_message_t *st)</div><div class="ttdoc">State Machine Function Definition according to sm_wifi_app_function function that defines the behavio...</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00201">wifiApp.c:201</a></div></div>
<div class="ttc" id="awifi_app_8c_html_ab8818d4f6d5f30959e5f4ede3803f80d"><div class="ttname"><a href="#ab8818d4f6d5f30959e5f4ede3803f80d">wifi_connected_event_cb</a></div><div class="ttdeci">static wifi_connected_event_callback_t wifi_connected_event_cb</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00055">wifiApp.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a377645a4b0d2aec63e305fd597475228" name="a377645a4b0d2aec63e305fd597475228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377645a4b0d2aec63e305fd597475228">&#9670;&#160;</a></span>WIFI_APP_STA_DISCONNECTED()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a> WIFI_APP_STA_DISCONNECTED </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>st</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_STA_DISCONNECTED] state. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00239">239</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>{</div>
<div class="line"><span class="lineno">  241</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a>[<a class="code hl_function" href="#a377645a4b0d2aec63e305fd597475228">WIFI_APP_STA_DISCONNECTED</a>]);</div>
<div class="line"><span class="lineno">  242</span>    </div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a4ae2ee707127a27c9867aa746cb06cba">ledRGB_wifi_disconnected</a>();</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_function" href="http_server_8c.html#a297a5597242d0efb3f49cb249cddfb7f">httpServer_monitor_sendMessage</a>(HTTP_WIFI_CONNECT_FAIL);</div>
<div class="line"><span class="lineno">  245</span>}</div>
<div class="ttc" id="aled_r_g_b_8c_html_a4ae2ee707127a27c9867aa746cb06cba"><div class="ttname"><a href="led_r_g_b_8c.html#a4ae2ee707127a27c9867aa746cb06cba">ledRGB_wifi_disconnected</a></div><div class="ttdeci">void ledRGB_wifi_disconnected(void)</div><div class="ttdef"><b>Definition</b> <a href="led_r_g_b_8c_source.html#l00150">ledRGB.c:150</a></div></div>
<div class="ttc" id="awifi_app_8c_html_a377645a4b0d2aec63e305fd597475228"><div class="ttname"><a href="#a377645a4b0d2aec63e305fd597475228">WIFI_APP_STA_DISCONNECTED</a></div><div class="ttdeci">static void WIFI_STATE_FUNC_NAME WIFI_APP_STA_DISCONNECTED(wifi_app_queue_message_t *st)</div><div class="ttdoc">State Machine Function Definition according to sm_wifi_app_function function that defines the behavio...</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00239">wifiApp.c:239</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b4c37aeab1ee5cdddccf5d9f38b31a0" name="a3b4c37aeab1ee5cdddccf5d9f38b31a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4c37aeab1ee5cdddccf5d9f38b31a0">&#9670;&#160;</a></span>WIFI_APP_START_HTTP_SERVER()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a> WIFI_APP_START_HTTP_SERVER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>st</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_START_HTTP_SERVER] state. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00167">167</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  168</span>{</div>
<div class="line"><span class="lineno">  169</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a>[<a class="code hl_function" href="#a3b4c37aeab1ee5cdddccf5d9f38b31a0">WIFI_APP_START_HTTP_SERVER</a>]);</div>
<div class="line"><span class="lineno">  170</span>    </div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_function" href="http_server_8c.html#a34eff20764979c06eff115f0888dee65">httpServer_start</a>();</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a4ae2ee707127a27c9867aa746cb06cba">ledRGB_wifi_disconnected</a>();</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="ahttp_server_8c_html_a34eff20764979c06eff115f0888dee65"><div class="ttname"><a href="http_server_8c.html#a34eff20764979c06eff115f0888dee65">httpServer_start</a></div><div class="ttdeci">void httpServer_start(void)</div><div class="ttdef"><b>Definition</b> <a href="http_server_8c_source.html#l00273">httpServer.c:273</a></div></div>
<div class="ttc" id="awifi_app_8c_html_a3b4c37aeab1ee5cdddccf5d9f38b31a0"><div class="ttname"><a href="#a3b4c37aeab1ee5cdddccf5d9f38b31a0">WIFI_APP_START_HTTP_SERVER</a></div><div class="ttdeci">static void WIFI_STATE_FUNC_NAME WIFI_APP_START_HTTP_SERVER(wifi_app_queue_message_t *st)</div><div class="ttdoc">State Machine Function Definition according to sm_wifi_app_function function that defines the behavio...</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00167">wifiApp.c:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a866d4622475ca928bffdd581fb961452" name="a866d4622475ca928bffdd581fb961452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866d4622475ca928bffdd581fb961452">&#9670;&#160;</a></span>WIFI_APP_USER_REQUESTED_STA_DISCONNECT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="wifi_app_8h.html#a85ab7e64386e2448f8e326fbfcae836d">WIFI_STATE_FUNC_NAME</a> WIFI_APP_USER_REQUESTED_STA_DISCONNECT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>st</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Function Definition according to <a class="el" href="wifi_app_8h.html#a157b371c1acb89a288066e2978456392">sm_wifi_app_function</a> function that defines the behavior on [WIFI_APP_USER_REQUESTED_STA_DISCONNECT] state. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00221">221</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>{</div>
<div class="line"><span class="lineno">  223</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="wifi_app_8h.html#a9919d69d8105d7532c1bbf73436d3439">sm_wifi_app_state_names</a>[<a class="code hl_function" href="#a377645a4b0d2aec63e305fd597475228">WIFI_APP_STA_DISCONNECTED</a>]);</div>
<div class="line"><span class="lineno">  224</span>    </div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a48304e1098e4f1783cd189502c36a13d">ledRGB_wifi_disconnect</a>();</div>
<div class="line"><span class="lineno">  226</span>    <span class="comment">// so it doesn&#39;t try to reconnect when we hit the button disconnect</span></div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_variable" href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a> = <a class="code hl_define" href="project_config_8h.html#a72a2cf74d03d2705748164a8202c8f48">MAX_CONNECTION_RETRIES</a>;</div>
<div class="line"><span class="lineno">  228</span>    </div>
<div class="line"><span class="lineno">  229</span>    ESP_ERROR_CHECK(esp_wifi_disconnect());</div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a4ae2ee707127a27c9867aa746cb06cba">ledRGB_wifi_disconnected</a>();</div>
<div class="line"><span class="lineno">  231</span>}</div>
<div class="ttc" id="aled_r_g_b_8c_html_a48304e1098e4f1783cd189502c36a13d"><div class="ttname"><a href="led_r_g_b_8c.html#a48304e1098e4f1783cd189502c36a13d">ledRGB_wifi_disconnect</a></div><div class="ttdeci">void ledRGB_wifi_disconnect(void)</div><div class="ttdef"><b>Definition</b> <a href="led_r_g_b_8c_source.html#l00163">ledRGB.c:163</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a72a2cf74d03d2705748164a8202c8f48"><div class="ttname"><a href="project_config_8h.html#a72a2cf74d03d2705748164a8202c8f48">MAX_CONNECTION_RETRIES</a></div><div class="ttdeci">#define MAX_CONNECTION_RETRIES</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00040">projectConfig.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae08e92f8c0d6dc47077b401fe1e6a95a" name="ae08e92f8c0d6dc47077b401fe1e6a95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08e92f8c0d6dc47077b401fe1e6a95a">&#9670;&#160;</a></span>wifiApp_defaultWifi_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_defaultWifi_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes TCP stack and default WiFi configuration. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00460">460</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  461</span>{</div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">// Initializes the TCP stack</span></div>
<div class="line"><span class="lineno">  463</span>    ESP_ERROR_CHECK(esp_netif_init());</div>
<div class="line"><span class="lineno">  464</span>    </div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">// Default Wifi config - operations must be in this order!</span></div>
<div class="line"><span class="lineno">  466</span>    wifi_init_config_t wifi_init_config = WIFI_INIT_CONFIG_DEFAULT();</div>
<div class="line"><span class="lineno">  467</span>    ESP_ERROR_CHECK(esp_wifi_init(&amp;wifi_init_config));</div>
<div class="line"><span class="lineno">  468</span>    ESP_ERROR_CHECK(esp_wifi_set_storage(WIFI_STORAGE_RAM));</div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_variable" href="router_8c.html#a9d201c9b3c512f5569c685bd04488cbe">esp_netif_sta</a> = esp_netif_create_default_wifi_sta();</div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_variable" href="router_8c.html#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a> = esp_netif_create_default_wifi_ap();</div>
<div class="line"><span class="lineno">  471</span>}</div>
<div class="ttc" id="arouter_8c_html_a9d04dd561f9f32dd175245abb38a868a"><div class="ttname"><a href="router_8c.html#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a></div><div class="ttdeci">esp_netif_t * esp_netif_ap</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00069">wifiApp.c:69</a></div></div>
<div class="ttc" id="arouter_8c_html_a9d201c9b3c512f5569c685bd04488cbe"><div class="ttname"><a href="router_8c.html#a9d201c9b3c512f5569c685bd04488cbe">esp_netif_sta</a></div><div class="ttdeci">esp_netif_t * esp_netif_sta</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00068">wifiApp.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a455779c6d61a7a4423c7956e2e88f8e3" name="a455779c6d61a7a4423c7956e2e88f8e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455779c6d61a7a4423c7956e2e88f8e3">&#9670;&#160;</a></span>wifiApp_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_event_handler </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_event_base_t</td>          <td class="paramname"><span class="paramname"><em>event_base</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>eventId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>eventData_p</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>WiFi application event handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg_p</td><td>data, aside from event data, that is passed to the handler when it is called </td></tr>
    <tr><td class="paramname">event_base</td><td>the base id of the event to register the handler for </td></tr>
    <tr><td class="paramname">eventId</td><td>the id of the event to register the handler for </td></tr>
    <tr><td class="paramname">eventData_p</td><td>event data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00363">363</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span> {</div>
<div class="line"><span class="lineno">  365</span>     <span class="keywordflow">if</span> (event_base == WIFI_EVENT)</div>
<div class="line"><span class="lineno">  366</span>     {</div>
<div class="line"><span class="lineno">  367</span>         <span class="keywordflow">switch</span> (eventId)</div>
<div class="line"><span class="lineno">  368</span>         {</div>
<div class="line"><span class="lineno">  369</span>             <span class="keywordflow">case</span> WIFI_EVENT_AP_START:</div>
<div class="line"><span class="lineno">  370</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_AP_START&quot;</span>);</div>
<div class="line"><span class="lineno">  371</span>                <span class="comment">// displayOled_printAccessPoint();</span></div>
<div class="line"><span class="lineno">  372</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  373</span>                </div>
<div class="line"><span class="lineno">  374</span>             <span class="keywordflow">case</span> WIFI_EVENT_AP_STOP:</div>
<div class="line"><span class="lineno">  375</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_AP_STOP&quot;</span>);</div>
<div class="line"><span class="lineno">  376</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  377</span>                </div>
<div class="line"><span class="lineno">  378</span>             <span class="keywordflow">case</span> WIFI_EVENT_AP_STACONNECTED:</div>
<div class="line"><span class="lineno">  379</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_AP_STACONNECTED&quot;</span>);</div>
<div class="line"><span class="lineno">  380</span>                <span class="comment">// displayOled_printWebPageAccess();</span></div>
<div class="line"><span class="lineno">  381</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  382</span>                </div>
<div class="line"><span class="lineno">  383</span>             <span class="keywordflow">case</span> WIFI_EVENT_AP_STADISCONNECTED:</div>
<div class="line"><span class="lineno">  384</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_AP_STADISCONNECTED&quot;</span>);</div>
<div class="line"><span class="lineno">  385</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  386</span>                </div>
<div class="line"><span class="lineno">  387</span>             <span class="keywordflow">case</span> WIFI_EVENT_AP_PROBEREQRECVED:</div>
<div class="line"><span class="lineno">  388</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_AP_PROBEREQRECVED&quot;</span>);</div>
<div class="line"><span class="lineno">  389</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  390</span>                </div>
<div class="line"><span class="lineno">  391</span>             <span class="keywordflow">case</span> WIFI_EVENT_STA_START:</div>
<div class="line"><span class="lineno">  392</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_STA_START&quot;</span>);</div>
<div class="line"><span class="lineno">  393</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  394</span>                </div>
<div class="line"><span class="lineno">  395</span>             <span class="keywordflow">case</span> WIFI_EVENT_STA_STOP:</div>
<div class="line"><span class="lineno">  396</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_STA_STOP&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  398</span>                </div>
<div class="line"><span class="lineno">  399</span>             <span class="keywordflow">case</span> WIFI_EVENT_STA_CONNECTED:</div>
<div class="line"><span class="lineno">  400</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_STA_CONNECTED&quot;</span>);</div>
<div class="line"><span class="lineno">  401</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  402</span>                </div>
<div class="line"><span class="lineno">  403</span>             <span class="keywordflow">case</span> WIFI_EVENT_STA_DISCONNECTED:</div>
<div class="line"><span class="lineno">  404</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WIFI_EVENT_STA_DISCONNECTED&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>                <a class="code hl_function" href="#adf937ef7f53119b62f8891cf19c616e1">wifiApp_sta_disconnectedLogInfo</a>(eventData_p);</div>
<div class="line"><span class="lineno">  406</span>    </div>
<div class="line"><span class="lineno">  407</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a> &lt; <a class="code hl_define" href="project_config_8h.html#a72a2cf74d03d2705748164a8202c8f48">MAX_CONNECTION_RETRIES</a>)</div>
<div class="line"><span class="lineno">  408</span>                {</div>
<div class="line"><span class="lineno">  409</span>                    esp_wifi_connect();</div>
<div class="line"><span class="lineno">  410</span>                    <a class="code hl_variable" href="#ae3e2fd114b2686e21f69bc56a8e5953e">g_retry_number</a>++;</div>
<div class="line"><span class="lineno">  411</span>                }</div>
<div class="line"><span class="lineno">  412</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  413</span>                {</div>
<div class="line"><span class="lineno">  414</span>                    <a class="code hl_function" href="#a86f60e7ea60e972d04c8464edcd12897">wifiApp_sendMessage</a>(<a class="code hl_function" href="#a377645a4b0d2aec63e305fd597475228">WIFI_APP_STA_DISCONNECTED</a>);</div>
<div class="line"><span class="lineno">  415</span>                }</div>
<div class="line"><span class="lineno">  416</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  417</span>         }</div>
<div class="line"><span class="lineno">  418</span>     }</div>
<div class="line"><span class="lineno">  419</span>     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event_base == IP_EVENT)</div>
<div class="line"><span class="lineno">  420</span>     {</div>
<div class="line"><span class="lineno">  421</span>         <span class="keywordflow">switch</span>(eventId)</div>
<div class="line"><span class="lineno">  422</span>         {</div>
<div class="line"><span class="lineno">  423</span>             <span class="keywordflow">case</span> IP_EVENT_STA_GOT_IP:</div>
<div class="line"><span class="lineno">  424</span>                ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;IP_EVENT_STA_GOT_IP&quot;</span>);</div>
<div class="line"><span class="lineno">  425</span>                </div>
<div class="line"><span class="lineno">  426</span>                <a class="code hl_function" href="#a86f60e7ea60e972d04c8464edcd12897">wifiApp_sendMessage</a>(<a class="code hl_function" href="#a9744addd5a5b98ef3087e536918db2ac">WIFI_APP_STA_CONNECTED_GOT_IP</a>);</div>
<div class="line"><span class="lineno">  427</span>                </div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  429</span>         }</div>
<div class="line"><span class="lineno">  430</span>     }</div>
<div class="line"><span class="lineno">  431</span> }</div>
<div class="ttc" id="awifi_app_8c_html_a86f60e7ea60e972d04c8464edcd12897"><div class="ttname"><a href="#a86f60e7ea60e972d04c8464edcd12897">wifiApp_sendMessage</a></div><div class="ttdeci">BaseType_t wifiApp_sendMessage(sm_wifi_app_state_e msgId)</div><div class="ttdoc">Sends a message to the queue.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00314">wifiApp.c:314</a></div></div>
<div class="ttc" id="awifi_app_8c_html_adf937ef7f53119b62f8891cf19c616e1"><div class="ttname"><a href="#adf937ef7f53119b62f8891cf19c616e1">wifiApp_sta_disconnectedLogInfo</a></div><div class="ttdeci">static void wifiApp_sta_disconnectedLogInfo(void *eventData_p)</div><div class="ttdoc">A function to log at the serial monitor the reasons of why the station disconnected.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00535">wifiApp.c:535</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac4b7f1a067c21ab97122e7dc9965b59" name="aac4b7f1a067c21ab97122e7dc9965b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4b7f1a067c21ab97122e7dc9965b59">&#9670;&#160;</a></span>wifiApp_eventHandler_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_eventHandler_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the WiFi application event handler for WiFi and IP events. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00437">437</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>{</div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// Event loop for the WiFi driver</span></div>
<div class="line"><span class="lineno">  440</span>    ESP_ERROR_CHECK(esp_event_loop_create_default());</div>
<div class="line"><span class="lineno">  441</span>    </div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">// Event handler for the connection</span></div>
<div class="line"><span class="lineno">  443</span>    esp_event_handler_instance_t instance_wifi_event;</div>
<div class="line"><span class="lineno">  444</span>    esp_event_handler_instance_t instance_ip_event;</div>
<div class="line"><span class="lineno">  445</span>    ESP_ERROR_CHECK(esp_event_handler_register( WIFI_EVENT,</div>
<div class="line"><span class="lineno">  446</span>                                                ESP_EVENT_ANY_ID,</div>
<div class="line"><span class="lineno">  447</span>                                                &amp;<a class="code hl_function" href="#a455779c6d61a7a4423c7956e2e88f8e3">wifiApp_event_handler</a>,</div>
<div class="line"><span class="lineno">  448</span>                                                &amp;instance_wifi_event));</div>
<div class="line"><span class="lineno">  449</span>    ESP_ERROR_CHECK(esp_event_handler_register( IP_EVENT,</div>
<div class="line"><span class="lineno">  450</span>                                                ESP_EVENT_ANY_ID,</div>
<div class="line"><span class="lineno">  451</span>                                                &amp;<a class="code hl_function" href="#a455779c6d61a7a4423c7956e2e88f8e3">wifiApp_event_handler</a>,</div>
<div class="line"><span class="lineno">  452</span>                                                &amp;instance_ip_event));</div>
<div class="line"><span class="lineno">  453</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a455779c6d61a7a4423c7956e2e88f8e3"><div class="ttname"><a href="#a455779c6d61a7a4423c7956e2e88f8e3">wifiApp_event_handler</a></div><div class="ttdeci">static void wifiApp_event_handler(void *arg_p, esp_event_base_t event_base, int32_t eventId, void *eventData_p)</div><div class="ttdoc">WiFi application event handler.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00363">wifiApp.c:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55fbd46e2bb6daf19b7649c1dfa4fc35" name="a55fbd46e2bb6daf19b7649c1dfa4fc35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fbd46e2bb6daf19b7649c1dfa4fc35">&#9670;&#160;</a></span>wifiApp_getStationPassword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * wifiApp_getStationPassword </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the Address of the first char of password string. </p>
<dl class="section return"><dt>Returns</dt><dd>char * the Address of the first char of password string </dd></dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00115">115</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>{</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a4e11a0d23804baaa77df2288ac0e4ee1">passwd</a>;</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a4e11a0d23804baaa77df2288ac0e4ee1"><div class="ttname"><a href="#a4e11a0d23804baaa77df2288ac0e4ee1">passwd</a></div><div class="ttdeci">char passwd[WIFI_PASSWORD_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00059">wifiApp.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cc48c46c6844e0d0ebd67c226d3a631" name="a2cc48c46c6844e0d0ebd67c226d3a631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc48c46c6844e0d0ebd67c226d3a631">&#9670;&#160;</a></span>wifiApp_getStationSSID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * wifiApp_getStationSSID </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the Address of the first char of SSID string. </p>
<dl class="section return"><dt>Returns</dt><dd>char * the Address of the first char of SSID string </dd></dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00109">109</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#aba08139162c2b03e24fb06f069e87286">ssid</a>;</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="awifi_app_8c_html_aba08139162c2b03e24fb06f069e87286"><div class="ttname"><a href="#aba08139162c2b03e24fb06f069e87286">ssid</a></div><div class="ttdeci">char ssid[WIFI_SSID_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00058">wifiApp.c:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1aeb8f515cf1a7ba5a49effcb451dfca" name="a1aeb8f515cf1a7ba5a49effcb451dfca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aeb8f515cf1a7ba5a49effcb451dfca">&#9670;&#160;</a></span>wifiApp_getWifiConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wifi_config_t * wifiApp_getWifiConfig </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the WiFi configuration. </p>
<dl class="section return"><dt>Returns</dt><dd>wifi_config_t* </dd></dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00121">121</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="#a7da8d372aefeaac24cabd1e70b1c27b2">wifi_config_v</a>;</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a7da8d372aefeaac24cabd1e70b1c27b2"><div class="ttname"><a href="#a7da8d372aefeaac24cabd1e70b1c27b2">wifi_config_v</a></div><div class="ttdeci">wifi_config_t wifi_config_v</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00062">wifiApp.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86f60e7ea60e972d04c8464edcd12897" name="a86f60e7ea60e972d04c8464edcd12897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f60e7ea60e972d04c8464edcd12897">&#9670;&#160;</a></span>wifiApp_sendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseType_t wifiApp_sendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#a82c7f1880fc5f465e23daded2433ca42">sm_wifi_app_state_e</a></td>          <td class="paramname"><span class="paramname"><em>msgId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to the queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo</a></b></dt><dd>colocar um enum status pra indicar falha ou sucesso </dd></dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00314">314</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  315</span>{</div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_typedef" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> msg;</div>
<div class="line"><span class="lineno">  317</span>    msg.<a class="code hl_variable" href="structwifi__app__queue__message__s.html#a6dfae9fbf3e0f308278f01960bf0f8ec">wifiApp_state</a> = msgId;</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">return</span> xQueueGenericSend(<a class="code hl_variable" href="#adcce18536c6d6f0c856f48e057ef38a1">wifi_app_queue_handle_t</a>, &amp;msg, portMAX_DELAY, queueSEND_TO_BACK );</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="astructwifi__app__queue__message__s_html_a6dfae9fbf3e0f308278f01960bf0f8ec"><div class="ttname"><a href="structwifi__app__queue__message__s.html#a6dfae9fbf3e0f308278f01960bf0f8ec">wifi_app_queue_message_s::wifiApp_state</a></div><div class="ttdeci">sm_wifi_app_state_e wifiApp_state</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8h_source.html#l00089">wifiApp.h:89</a></div></div>
<div class="ttc" id="awifi_app_8c_html_adcce18536c6d6f0c856f48e057ef38a1"><div class="ttname"><a href="#adcce18536c6d6f0c856f48e057ef38a1">wifi_app_queue_handle_t</a></div><div class="ttdeci">static QueueHandle_t wifi_app_queue_handle_t</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00078">wifiApp.c:78</a></div></div>
<div class="ttc" id="awifi_app_8h_html_ae930e6ed7ed1f0666767372efa316c0e"><div class="ttname"><a href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a></div><div class="ttdeci">struct wifi_app_queue_message_s wifi_app_queue_message_t</div><div class="ttdoc">Structure for the message queue.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a220cdea96a8b11daa93f966038a98bde" name="a220cdea96a8b11daa93f966038a98bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220cdea96a8b11daa93f966038a98bde">&#9670;&#160;</a></span>wifiApp_setCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wifiApp_setCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#a1e6520a64db9bed8110e12b1dcf22445">wifi_connected_event_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>cbFunction</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbFunction</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00150">150</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>{</div>
<div class="line"><span class="lineno">  152</span>     <a class="code hl_variable" href="#ab8818d4f6d5f30959e5f4ede3803f80d">wifi_connected_event_cb</a> = callbackFunction;</div>
<div class="line"><span class="lineno">  153</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a695b8888994b3448dc4419fb2af4a8db" name="a695b8888994b3448dc4419fb2af4a8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695b8888994b3448dc4419fb2af4a8db">&#9670;&#160;</a></span>wifiApp_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_setup </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function that sets up the WiFi environment configurating WiFi &amp; Soft Access and initializing TCP/IP </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00137">137</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">// Initialize the event handler</span></div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_function" href="#aac4b7f1a067c21ab97122e7dc9965b59">wifiApp_eventHandler_init</a>();</div>
<div class="line"><span class="lineno">  141</span>    </div>
<div class="line"><span class="lineno">  142</span>    <span class="comment">// Initialize the TCP/IP stack and WiFi config</span></div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_function" href="#ae08e92f8c0d6dc47077b401fe1e6a95a">wifiApp_defaultWifi_init</a>();</div>
<div class="line"><span class="lineno">  144</span>    </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">// SoftAP config</span></div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_function" href="#afbf8cd0cd99f7b572d441bfe18f6b374">wifiApp_softAP_config</a>();</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="awifi_app_8c_html_aac4b7f1a067c21ab97122e7dc9965b59"><div class="ttname"><a href="#aac4b7f1a067c21ab97122e7dc9965b59">wifiApp_eventHandler_init</a></div><div class="ttdeci">static void wifiApp_eventHandler_init(void)</div><div class="ttdoc">Initializes the WiFi application event handler for WiFi and IP events.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00437">wifiApp.c:437</a></div></div>
<div class="ttc" id="awifi_app_8c_html_ae08e92f8c0d6dc47077b401fe1e6a95a"><div class="ttname"><a href="#ae08e92f8c0d6dc47077b401fe1e6a95a">wifiApp_defaultWifi_init</a></div><div class="ttdeci">static void wifiApp_defaultWifi_init(void)</div><div class="ttdoc">Initializes TCP stack and default WiFi configuration.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00460">wifiApp.c:460</a></div></div>
<div class="ttc" id="awifi_app_8c_html_afbf8cd0cd99f7b572d441bfe18f6b374"><div class="ttname"><a href="#afbf8cd0cd99f7b572d441bfe18f6b374">wifiApp_softAP_config</a></div><div class="ttdeci">static void wifiApp_softAP_config(void)</div><div class="ttdoc">Configures the WiFi access point settings and assigns the static IP to the SoftAP.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00478">wifiApp.c:478</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbf8cd0cd99f7b572d441bfe18f6b374" name="afbf8cd0cd99f7b572d441bfe18f6b374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf8cd0cd99f7b572d441bfe18f6b374">&#9670;&#160;</a></span>wifiApp_softAP_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_softAP_config </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures the WiFi access point settings and assigns the static IP to the SoftAP. </p>
<blockquote class="doxtable">
<p>set configuration </p>
</blockquote>
<blockquote class="doxtable">
<p>default bandwidth 20 MHz </p>
</blockquote>
<blockquote class="doxtable">
<p>power save set to "none" </p>
</blockquote>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00478">478</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  479</span>{</div>
<div class="line"><span class="lineno">  480</span>    <span class="comment">// SoftAP - WiFi access point configuration</span></div>
<div class="line"><span class="lineno">  481</span>    wifi_config_t ap_config =</div>
<div class="line"><span class="lineno">  482</span>    {</div>
<div class="line"><span class="lineno">  483</span>        .ap = {</div>
<div class="line"><span class="lineno">  484</span>            .ssid           =   <a class="code hl_define" href="project_config_8h.html#a8e19d13af09f7ed0afad391730f1e3e7">WIFI_AP_SSID</a>,</div>
<div class="line"><span class="lineno">  485</span>            .ssid_len       =   strlen(<a class="code hl_define" href="project_config_8h.html#a8e19d13af09f7ed0afad391730f1e3e7">WIFI_AP_SSID</a>),</div>
<div class="line"><span class="lineno">  486</span>            .password       =   <a class="code hl_define" href="project_config_8h.html#ac80c92af8bf29cfe0442a28b6a7ec5a3">WIFI_AP_PASSWORD</a>,</div>
<div class="line"><span class="lineno">  487</span>            .channel        =   <a class="code hl_define" href="project_config_8h.html#ac0a1dba58f0e6d7f07d3050fa0291dd0">WIFI_AP_CHANNEL</a>,</div>
<div class="line"><span class="lineno">  488</span>            .ssid_hidden    =   <a class="code hl_define" href="project_config_8h.html#a02f4226bd6b0e2adad29fddd345a0918">WIFI_AP_SSID_HIDDEN</a>,</div>
<div class="line"><span class="lineno">  489</span>            .authmode       =   WIFI_AUTH_WPA2_PSK,</div>
<div class="line"><span class="lineno">  490</span>            .max_connection =   <a class="code hl_define" href="project_config_8h.html#ab689d29cda2d350ce6652141df530fd0">WIFI_AP_MAX_CONNECTIONS</a>,</div>
<div class="line"><span class="lineno">  491</span>            .beacon_interval=   <a class="code hl_define" href="project_config_8h.html#a532527c416f545aaa0b3adf4185ed3f4">WIFI_AP_BEACON_INTERVAL</a>,</div>
<div class="line"><span class="lineno">  492</span>        },</div>
<div class="line"><span class="lineno">  493</span>    };</div>
<div class="line"><span class="lineno">  494</span>    </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">// Configure DHCP for the AP</span></div>
<div class="line"><span class="lineno">  496</span>    esp_netif_ip_info_t ap_ip_info;</div>
<div class="line"><span class="lineno">  497</span>    memset(&amp;ap_ip_info, 0x00, <span class="keyword">sizeof</span>(ap_ip_info));</div>
<div class="line"><span class="lineno">  498</span>    </div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">// Stopping the DHCP server before updating it</span></div>
<div class="line"><span class="lineno">  500</span>    esp_netif_dhcps_stop(<a class="code hl_variable" href="router_8c.html#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a>);</div>
<div class="line"><span class="lineno">  501</span>    </div>
<div class="line"><span class="lineno">  502</span>    <span class="comment">// Assign access point&#39;s static IP, GW and Netmask</span></div>
<div class="line"><span class="lineno">  503</span>    <span class="comment">//(converts string, to the wanted binary form)</span></div>
<div class="line"><span class="lineno">  504</span>    inet_pton(AF_INET, <a class="code hl_define" href="project_config_8h.html#a067a8d9ec14859ad6237320d2cec686a">WIFI_AP_IP</a>, &amp;ap_ip_info.ip);</div>
<div class="line"><span class="lineno">  505</span>    inet_pton(AF_INET, <a class="code hl_define" href="project_config_8h.html#a2782b50f9a156696a1708c61823aa3a3">WIFI_AP_GATEWAY</a>, &amp;ap_ip_info.gw);</div>
<div class="line"><span class="lineno">  506</span>    inet_pton(AF_INET, <a class="code hl_define" href="project_config_8h.html#af48472f62a4bab9896e181b25d439f34">WIFI_AP_NETMASK</a>, &amp;ap_ip_info.netmask);</div>
<div class="line"><span class="lineno">  507</span>    </div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">// Statically configure the network interface</span></div>
<div class="line"><span class="lineno">  509</span>    ESP_ERROR_CHECK(esp_netif_set_ip_info(<a class="code hl_variable" href="router_8c.html#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a>, &amp;ap_ip_info));</div>
<div class="line"><span class="lineno">  510</span>    <span class="comment">// Start the AP DHCP server (for connecting stations e.g. your mobile device)</span></div>
<div class="line"><span class="lineno">  511</span>    ESP_ERROR_CHECK(esp_netif_dhcps_start(<a class="code hl_variable" href="router_8c.html#a9d04dd561f9f32dd175245abb38a868a">esp_netif_ap</a>));</div>
<div class="line"><span class="lineno">  512</span>    </div>
<div class="line"><span class="lineno">  513</span>    <span class="comment">// Setting the mode as Access Point / Station Mode</span></div>
<div class="line"><span class="lineno">  514</span>    ESP_ERROR_CHECK(esp_wifi_set_mode(WIFI_MODE_APSTA));</div>
<div class="line"><span class="lineno">  515</span>    ESP_ERROR_CHECK(esp_wifi_set_config(ESP_IF_WIFI_AP, &amp;ap_config));   </div>
<div class="line"><span class="lineno">  516</span>    ESP_ERROR_CHECK(esp_wifi_set_bandwidth(WIFI_IF_AP, <a class="code hl_define" href="project_config_8h.html#a7581843f542963f235dd70d339f106f5">WIFI_AP_BANDWIDTH</a>));    </div>
<div class="line"><span class="lineno">  517</span>    ESP_ERROR_CHECK(esp_wifi_set_ps(<a class="code hl_define" href="project_config_8h.html#a08b834aec05f183ace828469af10b817">WIFI_STA_POWER_SAVE</a>));                       </div>
<div class="line"><span class="lineno">  518</span>}</div>
<div class="ttc" id="aproject_config_8h_html_a02f4226bd6b0e2adad29fddd345a0918"><div class="ttname"><a href="project_config_8h.html#a02f4226bd6b0e2adad29fddd345a0918">WIFI_AP_SSID_HIDDEN</a></div><div class="ttdeci">#define WIFI_AP_SSID_HIDDEN</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00030">projectConfig.h:30</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a067a8d9ec14859ad6237320d2cec686a"><div class="ttname"><a href="project_config_8h.html#a067a8d9ec14859ad6237320d2cec686a">WIFI_AP_IP</a></div><div class="ttdeci">#define WIFI_AP_IP</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00033">projectConfig.h:33</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a08b834aec05f183ace828469af10b817"><div class="ttname"><a href="project_config_8h.html#a08b834aec05f183ace828469af10b817">WIFI_STA_POWER_SAVE</a></div><div class="ttdeci">#define WIFI_STA_POWER_SAVE</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00037">projectConfig.h:37</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a2782b50f9a156696a1708c61823aa3a3"><div class="ttname"><a href="project_config_8h.html#a2782b50f9a156696a1708c61823aa3a3">WIFI_AP_GATEWAY</a></div><div class="ttdeci">#define WIFI_AP_GATEWAY</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00034">projectConfig.h:34</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a532527c416f545aaa0b3adf4185ed3f4"><div class="ttname"><a href="project_config_8h.html#a532527c416f545aaa0b3adf4185ed3f4">WIFI_AP_BEACON_INTERVAL</a></div><div class="ttdeci">#define WIFI_AP_BEACON_INTERVAL</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00032">projectConfig.h:32</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a7581843f542963f235dd70d339f106f5"><div class="ttname"><a href="project_config_8h.html#a7581843f542963f235dd70d339f106f5">WIFI_AP_BANDWIDTH</a></div><div class="ttdeci">#define WIFI_AP_BANDWIDTH</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00036">projectConfig.h:36</a></div></div>
<div class="ttc" id="aproject_config_8h_html_a8e19d13af09f7ed0afad391730f1e3e7"><div class="ttname"><a href="project_config_8h.html#a8e19d13af09f7ed0afad391730f1e3e7">WIFI_AP_SSID</a></div><div class="ttdeci">#define WIFI_AP_SSID</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00027">projectConfig.h:27</a></div></div>
<div class="ttc" id="aproject_config_8h_html_ab689d29cda2d350ce6652141df530fd0"><div class="ttname"><a href="project_config_8h.html#ab689d29cda2d350ce6652141df530fd0">WIFI_AP_MAX_CONNECTIONS</a></div><div class="ttdeci">#define WIFI_AP_MAX_CONNECTIONS</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00031">projectConfig.h:31</a></div></div>
<div class="ttc" id="aproject_config_8h_html_ac0a1dba58f0e6d7f07d3050fa0291dd0"><div class="ttname"><a href="project_config_8h.html#ac0a1dba58f0e6d7f07d3050fa0291dd0">WIFI_AP_CHANNEL</a></div><div class="ttdeci">#define WIFI_AP_CHANNEL</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00029">projectConfig.h:29</a></div></div>
<div class="ttc" id="aproject_config_8h_html_ac80c92af8bf29cfe0442a28b6a7ec5a3"><div class="ttname"><a href="project_config_8h.html#ac80c92af8bf29cfe0442a28b6a7ec5a3">WIFI_AP_PASSWORD</a></div><div class="ttdeci">#define WIFI_AP_PASSWORD</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00028">projectConfig.h:28</a></div></div>
<div class="ttc" id="aproject_config_8h_html_af48472f62a4bab9896e181b25d439f34"><div class="ttname"><a href="project_config_8h.html#af48472f62a4bab9896e181b25d439f34">WIFI_AP_NETMASK</a></div><div class="ttdeci">#define WIFI_AP_NETMASK</div><div class="ttdef"><b>Definition</b> <a href="project_config_8h_source.html#l00035">projectConfig.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9e98a9c79fd5f111cc6124d5d4783f9" name="ad9e98a9c79fd5f111cc6124d5d4783f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e98a9c79fd5f111cc6124d5d4783f9">&#9670;&#160;</a></span>wifiApp_sta_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_sta_connect </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connects the ESP32 to an external AP using the updated station configuration. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00524">524</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  525</span>{</div>
<div class="line"><span class="lineno">  526</span>    ESP_ERROR_CHECK(esp_wifi_set_config(ESP_IF_WIFI_STA, <a class="code hl_function" href="#a1aeb8f515cf1a7ba5a49effcb451dfca">wifiApp_getWifiConfig</a>()));</div>
<div class="line"><span class="lineno">  527</span>    ESP_ERROR_CHECK(esp_wifi_connect());</div>
<div class="line"><span class="lineno">  528</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a1aeb8f515cf1a7ba5a49effcb451dfca"><div class="ttname"><a href="#a1aeb8f515cf1a7ba5a49effcb451dfca">wifiApp_getWifiConfig</a></div><div class="ttdeci">wifi_config_t * wifiApp_getWifiConfig(void)</div><div class="ttdoc">Gets the WiFi configuration.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00121">wifiApp.c:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf937ef7f53119b62f8891cf19c616e1" name="adf937ef7f53119b62f8891cf19c616e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf937ef7f53119b62f8891cf19c616e1">&#9670;&#160;</a></span>wifiApp_sta_disconnectedLogInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_sta_disconnectedLogInfo </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>eventData_p</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to log at the serial monitor the reasons of why the station disconnected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventData_p</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00535">535</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  536</span>{</div>
<div class="line"><span class="lineno">  537</span>    wifi_event_sta_disconnected_t *wifi_event = (wifi_event_sta_disconnected_t *)eventData_p;</div>
<div class="line"><span class="lineno">  538</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;WiFi disconnected, reason: %d&quot;</span>, wifi_event-&gt;reason);</div>
<div class="line"><span class="lineno">  539</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6d6accac56d59a7f45d2afced1647c1" name="ae6d6accac56d59a7f45d2afced1647c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d6accac56d59a7f45d2afced1647c1">&#9670;&#160;</a></span>wifiApp_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wifiApp_start </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the WiFi RTOS task. </p>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00322">322</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  323</span>{</div>
<div class="line"><span class="lineno">  324</span>    ESP_LOGI(<a class="code hl_variable" href="date_time_n_t_p_8c.html#a1bcdde0bdfcf0a2da9335e0cfdc2c605">TAG</a>, <span class="stringliteral">&quot;STARTING WIFI APPLICATION&quot;</span>);</div>
<div class="line"><span class="lineno">  325</span>    </div>
<div class="line"><span class="lineno">  326</span>    <span class="comment">// Start Wifi started LED</span></div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_function" href="led_r_g_b_8c.html#a1f5c0e3d08df88549556d086dac1e0f9">ledRGB_wifiApp_started</a>();</div>
<div class="line"><span class="lineno">  328</span>    </div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">// Disable default WiFi logging messages</span></div>
<div class="line"><span class="lineno">  330</span>    esp_log_level_set(<span class="stringliteral">&quot;WiFi&quot;</span>, ESP_LOG_NONE);</div>
<div class="line"><span class="lineno">  331</span>    </div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// Clearing memory for the WiFi configuration</span></div>
<div class="line"><span class="lineno">  333</span>    memset(&amp;<a class="code hl_variable" href="#a7da8d372aefeaac24cabd1e70b1c27b2">wifi_config_v</a>, 0x00, <span class="keyword">sizeof</span>(wifi_config_t)); </div>
<div class="line"><span class="lineno">  334</span>    </div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">// Create message queue</span></div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_variable" href="#adcce18536c6d6f0c856f48e057ef38a1">wifi_app_queue_handle_t</a> = xQueueCreate(3, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a>));</div>
<div class="line"><span class="lineno">  337</span>    </div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">// Start the WiFi application task</span></div>
<div class="line"><span class="lineno">  339</span>    xTaskCreatePinnedToCore(    &amp;<a class="code hl_function" href="#a67982d55275fd53cb430659b79f838b7">wifiApp_task</a>,</div>
<div class="line"><span class="lineno">  340</span>                                <span class="stringliteral">&quot;wifiApp_task&quot;</span>,</div>
<div class="line"><span class="lineno">  341</span>                                <a class="code hl_define" href="tasks__common_8h.html#ab3e94e420204b2449e53764492da9424">WIFI_APP_TASK_STACK_SIZE</a>,</div>
<div class="line"><span class="lineno">  342</span>                                NULL,</div>
<div class="line"><span class="lineno">  343</span>                                <a class="code hl_define" href="tasks__common_8h.html#add4ff0a0d043ddea662056112d3f155e">WIFI_APP_TASK_PRIORITY</a>,</div>
<div class="line"><span class="lineno">  344</span>                                NULL,</div>
<div class="line"><span class="lineno">  345</span>                                <a class="code hl_define" href="tasks__common_8h.html#a4fc469ffcc1e2380ea9085e3bfa5b39a">WIFI_APP_TASK_CORE_ID</a>);</div>
<div class="line"><span class="lineno">  346</span>                            </div>
<div class="line"><span class="lineno">  347</span>}</div>
<div class="ttc" id="aled_r_g_b_8c_html_a1f5c0e3d08df88549556d086dac1e0f9"><div class="ttname"><a href="led_r_g_b_8c.html#a1f5c0e3d08df88549556d086dac1e0f9">ledRGB_wifiApp_started</a></div><div class="ttdeci">void ledRGB_wifiApp_started(void)</div><div class="ttdef"><b>Definition</b> <a href="led_r_g_b_8c_source.html#l00144">ledRGB.c:144</a></div></div>
<div class="ttc" id="atasks__common_8h_html_a4fc469ffcc1e2380ea9085e3bfa5b39a"><div class="ttname"><a href="tasks__common_8h.html#a4fc469ffcc1e2380ea9085e3bfa5b39a">WIFI_APP_TASK_CORE_ID</a></div><div class="ttdeci">#define WIFI_APP_TASK_CORE_ID</div><div class="ttdef"><b>Definition</b> <a href="tasks__common_8h_source.html#l00015">tasks_common.h:15</a></div></div>
<div class="ttc" id="atasks__common_8h_html_ab3e94e420204b2449e53764492da9424"><div class="ttname"><a href="tasks__common_8h.html#ab3e94e420204b2449e53764492da9424">WIFI_APP_TASK_STACK_SIZE</a></div><div class="ttdeci">#define WIFI_APP_TASK_STACK_SIZE</div><div class="ttdef"><b>Definition</b> <a href="tasks__common_8h_source.html#l00013">tasks_common.h:13</a></div></div>
<div class="ttc" id="atasks__common_8h_html_add4ff0a0d043ddea662056112d3f155e"><div class="ttname"><a href="tasks__common_8h.html#add4ff0a0d043ddea662056112d3f155e">WIFI_APP_TASK_PRIORITY</a></div><div class="ttdeci">#define WIFI_APP_TASK_PRIORITY</div><div class="ttdef"><b>Definition</b> <a href="tasks__common_8h_source.html#l00014">tasks_common.h:14</a></div></div>
<div class="ttc" id="awifi_app_8c_html_a67982d55275fd53cb430659b79f838b7"><div class="ttname"><a href="#a67982d55275fd53cb430659b79f838b7">wifiApp_task</a></div><div class="ttdeci">static void wifiApp_task(void *pvParameters)</div><div class="ttdoc">Main task for the WiFi application where we initialize WiFi and and receive all queue messages which ...</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00292">wifiApp.c:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aae88eb533afad50c0d0bd3224ea159c7" name="aae88eb533afad50c0d0bd3224ea159c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae88eb533afad50c0d0bd3224ea159c7">&#9670;&#160;</a></span>wifiApp_stateMachine_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_stateMachine_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>WiFiApp State Machine Handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00261">261</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_variable" href="#a87b8ba04a3790582484f78c39276a058">g_qtd_states</a> = 0;</div>
<div class="line"><span class="lineno">  264</span><span class="preprocessor">    #define X(ID, ENUM) g_qtd_states++; </span></div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_define" href="wifi_app_8h.html#a418a2d8d5649033574473c0a5529daca">X_MACRO_WIFI_STATE_LIST</a></div>
<div class="line"><span class="lineno">  266</span><span class="preprocessor">    #undef X</span></div>
<div class="line"><span class="lineno">  267</span>    </div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  269</span>    {</div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">if</span> (xQueueReceive(<a class="code hl_variable" href="#adcce18536c6d6f0c856f48e057ef38a1">wifi_app_queue_handle_t</a>, msg, portMAX_DELAY))</div>
<div class="line"><span class="lineno">  271</span>        {</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">if</span>(msg-&gt;<a class="code hl_variable" href="structwifi__app__queue__message__s.html#a6dfae9fbf3e0f308278f01960bf0f8ec">wifiApp_state</a> &lt; <a class="code hl_variable" href="#a87b8ba04a3790582484f78c39276a058">g_qtd_states</a>) {</div>
<div class="line"><span class="lineno">  273</span>                <a class="code hl_variable" href="#a4da0d01f3d2e8f4a303ced29391e8eeb">sm_wifi_state_table</a>[msg-&gt;<a class="code hl_variable" href="structwifi__app__queue__message__s.html#a6dfae9fbf3e0f308278f01960bf0f8ec">wifiApp_state</a>].func(msg);</div>
<div class="line"><span class="lineno">  274</span>            }</div>
<div class="line"><span class="lineno">  275</span>        }</div>
<div class="line"><span class="lineno">  276</span>    }</div>
<div class="line"><span class="lineno">  277</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a4da0d01f3d2e8f4a303ced29391e8eeb"><div class="ttname"><a href="#a4da0d01f3d2e8f4a303ced29391e8eeb">sm_wifi_state_table</a></div><div class="ttdeci">sm_wifi_table_fn_t sm_wifi_state_table[]</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00249">wifiApp.c:249</a></div></div>
<div class="ttc" id="awifi_app_8h_html_a418a2d8d5649033574473c0a5529daca"><div class="ttname"><a href="wifi_app_8h.html#a418a2d8d5649033574473c0a5529daca">X_MACRO_WIFI_STATE_LIST</a></div><div class="ttdeci">#define X_MACRO_WIFI_STATE_LIST</div><div class="ttdoc">List used to create all the structures for the WiFi state machine based on X definition.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8h_source.html#l00042">wifiApp.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67982d55275fd53cb430659b79f838b7" name="a67982d55275fd53cb430659b79f838b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67982d55275fd53cb430659b79f838b7">&#9670;&#160;</a></span>wifiApp_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wifiApp_task </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main task for the WiFi application where we initialize WiFi and and receive all queue messages which determine the flow of the application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>parameter which can be passed to the task </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00292">292</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>{</div>
<div class="line"><span class="lineno">  294</span>    <a class="code hl_typedef" href="wifi_app_8h.html#ae930e6ed7ed1f0666767372efa316c0e">wifi_app_queue_message_t</a> msg;</div>
<div class="line"><span class="lineno">  295</span>    </div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">// Setup WiFi environment</span></div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_function" href="#a695b8888994b3448dc4419fb2af4a8db">wifiApp_setup</a>();</div>
<div class="line"><span class="lineno">  298</span>    </div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">// Start WiFi</span></div>
<div class="line"><span class="lineno">  300</span>    ESP_ERROR_CHECK(esp_wifi_start());</div>
<div class="line"><span class="lineno">  301</span>    </div>
<div class="line"><span class="lineno">  302</span>    <span class="comment">// Send first event message</span></div>
<div class="line"><span class="lineno">  303</span>    <a class="code hl_function" href="#a86f60e7ea60e972d04c8464edcd12897">wifiApp_sendMessage</a>(<a class="code hl_function" href="#a3b4c37aeab1ee5cdddccf5d9f38b31a0">WIFI_APP_START_HTTP_SERVER</a>);</div>
<div class="line"><span class="lineno">  304</span>    </div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_function" href="#aae88eb533afad50c0d0bd3224ea159c7">wifiApp_stateMachine_handler</a>(&amp;msg);</div>
<div class="line"><span class="lineno">  306</span>}</div>
<div class="ttc" id="awifi_app_8c_html_a695b8888994b3448dc4419fb2af4a8db"><div class="ttname"><a href="#a695b8888994b3448dc4419fb2af4a8db">wifiApp_setup</a></div><div class="ttdeci">static void wifiApp_setup(void)</div><div class="ttdoc">function that sets up the WiFi environment configurating WiFi &amp; Soft Access and initializing TCP/IP</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00137">wifiApp.c:137</a></div></div>
<div class="ttc" id="awifi_app_8c_html_aae88eb533afad50c0d0bd3224ea159c7"><div class="ttname"><a href="#aae88eb533afad50c0d0bd3224ea159c7">wifiApp_stateMachine_handler</a></div><div class="ttdeci">static void wifiApp_stateMachine_handler(wifi_app_queue_message_t *msg)</div><div class="ttdoc">WiFiApp State Machine Handler.</div><div class="ttdef"><b>Definition</b> <a href="wifi_app_8c_source.html#l00261">wifiApp.c:261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9d04dd561f9f32dd175245abb38a868a" name="a9d04dd561f9f32dd175245abb38a868a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d04dd561f9f32dd175245abb38a868a">&#9670;&#160;</a></span>esp_netif_ap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_netif_t* esp_netif_ap = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00069">69</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a9d201c9b3c512f5569c685bd04488cbe" name="a9d201c9b3c512f5569c685bd04488cbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d201c9b3c512f5569c685bd04488cbe">&#9670;&#160;</a></span>esp_netif_sta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_netif_t* esp_netif_sta = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00068">68</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a87b8ba04a3790582484f78c39276a058" name="a87b8ba04a3790582484f78c39276a058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b8ba04a3790582484f78c39276a058">&#9670;&#160;</a></span>g_qtd_states</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_qtd_states</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00072">72</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="ae3e2fd114b2686e21f69bc56a8e5953e" name="ae3e2fd114b2686e21f69bc56a8e5953e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e2fd114b2686e21f69bc56a8e5953e">&#9670;&#160;</a></span>g_retry_number</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_retry_number</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00065">65</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a4e11a0d23804baaa77df2288ac0e4ee1" name="a4e11a0d23804baaa77df2288ac0e4ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e11a0d23804baaa77df2288ac0e4ee1">&#9670;&#160;</a></span>passwd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char passwd[<a class="el" href="project_config_8h.html#ac7c70f898113fc416cd50088eb8def4b">WIFI_PASSWORD_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00059">59</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a4da0d01f3d2e8f4a303ced29391e8eeb" name="a4da0d01f3d2e8f4a303ced29391e8eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da0d01f3d2e8f4a303ced29391e8eeb">&#9670;&#160;</a></span>sm_wifi_state_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="wifi_app_8h.html#af91042ce2533b9ab174a0e0fc8934055">sm_wifi_table_fn_t</a> sm_wifi_state_table[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#define X(ID, ENUM)                                 </span></div>
<div class="line">    <a class="code hl_define" href="wifi_app_8h.html#a418a2d8d5649033574473c0a5529daca">X_MACRO_WIFI_STATE_LIST</a></div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00249">249</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  250</span>{</div>
<div class="line"><span class="lineno">  251</span><span class="preprocessor">#define X(ID, ENUM) { WIFI_STATE_FUNC_NAME(ENUM) }, </span></div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_define" href="wifi_app_8h.html#a418a2d8d5649033574473c0a5529daca">X_MACRO_WIFI_STATE_LIST</a></div>
<div class="line"><span class="lineno">  253</span><span class="preprocessor">#undef X</span></div>
<div class="line"><span class="lineno">  254</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba08139162c2b03e24fb06f069e87286" name="aba08139162c2b03e24fb06f069e87286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba08139162c2b03e24fb06f069e87286">&#9670;&#160;</a></span>ssid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ssid[<a class="el" href="project_config_8h.html#a1f9bd6468e40a152b046a130a6ef7d37">WIFI_SSID_LENGTH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00058">58</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a1bcdde0bdfcf0a2da9335e0cfdc2c605" name="a1bcdde0bdfcf0a2da9335e0cfdc2c605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bcdde0bdfcf0a2da9335e0cfdc2c605">&#9670;&#160;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char TAG[] = &quot;wifi_app&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00052">52</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="adcce18536c6d6f0c856f48e057ef38a1" name="adcce18536c6d6f0c856f48e057ef38a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcce18536c6d6f0c856f48e057ef38a1">&#9670;&#160;</a></span>wifi_app_queue_handle_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t wifi_app_queue_handle_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00078">78</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="a7da8d372aefeaac24cabd1e70b1c27b2" name="a7da8d372aefeaac24cabd1e70b1c27b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da8d372aefeaac24cabd1e70b1c27b2">&#9670;&#160;</a></span>wifi_config_v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wifi_config_t wifi_config_v</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00062">62</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
<a id="ab8818d4f6d5f30959e5f4ede3803f80d" name="ab8818d4f6d5f30959e5f4ede3803f80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8818d4f6d5f30959e5f4ede3803f80d">&#9670;&#160;</a></span>wifi_connected_event_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="wifi_app_8h.html#a1e6520a64db9bed8110e12b1dcf22445">wifi_connected_event_callback_t</a> wifi_connected_event_cb = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wifi_app_8c_source.html#l00055">55</a> of file <a class="el" href="wifi_app_8c_source.html">wifiApp.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_941a1f781e5356755935254f574adadf.html">FT_gateway</a></li><li class="navelem"><a class="el" href="dir_6d3f4850756140aca20ed483bc09cc7c.html">main</a></li><li class="navelem"><a class="el" href="wifi_app_8c.html">wifiApp.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
